var HelpDialog=function(){var e=function(){this.help=null,this.items=[],this.currentItem=null,this.elementClone=null,this.helpCounter=0,this.nextBtn=null,this.prevBtn=null,this.closeBtn=null,this.permStorage=localStorage,this.resetContainer=document.getElementById("helper")},t=function(){nextBtn=document.querySelectorAll(".nxt")[helpCounter],prevBtn=document.querySelectorAll(".prv")[helpCounter],closeBtn=document.querySelectorAll(".hpx")[helpCounter],nextBtn.onclick=s,prevBtn.onclick=d,closeBtn.onclick=h},n=function(t){if(window.innerWidth<1025)return console.log("Help Disabled on mobile"),!1;e(),help=t,sessionStorage.setItem("helpcontents",JSON.stringify(t)),1==o()&&r();try{resetContainer.addEventListener("click",l)}catch(n){console.log("Help button not specified. Please place id of 'helper' on button. ")}},l=function(t){e(),help=JSON.parse(sessionStorage.getItem("helpcontents")),helpCounter=0,r();var n=document.querySelectorAll(".for-help");0==o()&&n.forEach(function(e){e.style.display="none"})},o=function(){var e=permStorage.getItem("inSession");return null==e||void 0==e||1==e?!0:!1},i=function(){permStorage.setItem("inSession",!0),h()},r=function(){try{help.forEach(function(e){items.push("help-block-"+help.indexOf(e));var t=(document.getElementById(e.id),help.indexOf(e)+1),n='<div class="help-dialog-container help-block-'+help.indexOf(e)+'" style="display:none;"><div class="hpx" id="help_close">x</div><p class="help-dialog-title">'+e.header+'</p><p class="help-dialog-text">'+e.text+'</p><div class="checkbox for-help" ><label class="md-check dark-bluebox" ><input type="checkbox" style=""> <i class="primary" id="help_session"></i> Hide help on start</label></div> <div class="help-button-container"><button class="help-dialog-counter">'+t+" of "+help.length+'</button><br><button class="help-dialog nxt" id="help_next">Next</button><button class="help-dialog prv" id="help_prev">Prev</button></div></div>',l=document.createElement("div");l.id="help-object",l.innerHTML=n,document.body.appendChild(l)}),document.querySelectorAll(".prv")[0].style.display="none",document.querySelectorAll(".nxt")[help.length-1].innerHTML="Got It",c()}catch(e){return console.log("HelpDialog.js : element Id specified is incorrect"),!1}},c=function(){return helpCounter==help.length?(h(),!1):(currentItem=document.getElementsByClassName(items[helpCounter])[0],p(),t(),void currentItem.addEventListener("click",function(e){"help_session"==e.target.id&&i()}))},s=function(){document.body.removeChild(elementClone),currentItem.style.display="none",helpCounter+=1,c()},d=function(){return document.body.removeChild(elementClone),0==helpCounter?(helpCounter=0,h(),!1):(currentItem.style.display="none",helpCounter-=1,void c())},p=function(e){var t=document.getElementById(help[helpCounter].id),n=t.getBoundingClientRect();currentItem.getBoundingClientRect();u(t,n),currentItem.style.top=n.top+t.offsetHeight+25+"px",currentItem.style.left=n.left+"px",currentItem.style.display="inline-block",n.left>window.innerWidth/2&&(currentItem.style.left=n.left-200+"px"),window.onresize=function(){document.body.removeChild(elementClone),p()}},u=function(e,t){elementClone=e.cloneNode(!0),elementClone.id="help_clone",elementClone.className="cloned-element",elementClone.style.position="fixed",elementClone.style.top=t.top+"px",elementClone.style.left=t.left+"px",elementClone.style.right=t.right+"px",elementClone.style.width=t.width+"px",elementClone.style.height=t.height+"px",elementClone.style.border="none",elementClone.innerHTML="",elementClone.style.zIndex="9999999",elementClone.style.backgroundColor="rgba(215, 44, 44, 0.4)",document.body.appendChild(elementClone),elementClone.onclick=h},h=function(){resetContainer=document.getElementById("helper"),resetContainer.addEventListener("click",l),currentItem.style.display="none";var e=document.querySelectorAll(".help-dialog-container");e.forEach(function(e){document.body.removeChild(e)}),document.body.removeChild(elementClone),helpCounter=0};return{destroy:h,init:n}};